{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Linux Monitoring","text":""},{"location":"#linux-monitoring","title":"Linux monitoring","text":"Screenshot of normal operation <p>Demo Download</p>"},{"location":"#objective","title":"Objective","text":"<p>This script monitors processor, memory and disk useage and displays them in a web interface. </p> <p>It aims to mimic the \"Performance\" tab of Windows Task Manager in a simplistic way, with the history going back one hour instead of one minute. </p>"},{"location":"#limitations","title":"Limitations","text":"<p>This project has only been tested on Debian. Other flavors might need some tweaking. </p>"},{"location":"#useage","title":"Useage","text":"<p>To see the script in action, go to its web interface (by default, it's localhost/monitoring/). </p> <p>You should see a window with 3 indications with their associated graphs:</p> <ul> <li>Processor shows the time the processor isn't idle</li> <li>Memory shows the memory useage</li> <li>Disk shows the proportion of used disk space (not the idle proportion like for the processor)</li> </ul> <p>The value is the latest measured metric (-1 means the last measure failed). </p> <p>The graph shows the history for the last hour. If a part of it is grayed out, it means that data wasn't avalible at this time (the machine was down for example). </p> <p>in the header part of the window, you can see the version number, an error message in red (when there is a problem) and two buttons.</p> <ul> <li>The home button is a link to another page</li> <li>The arrow button refreshes the page so you could see the latest data</li> </ul>"},{"location":"documentation/","title":"Documentation","text":""},{"location":"documentation/#prerequisites","title":"Prerequisites","text":"<p>This project is intended for Linux systems (it has been tested for Debian). </p> <p>Here are the dependancies:</p> <ul> <li><code>sysstat</code>, a bundle of sytem performance tools,</li> <li><code>apache2</code> or another web server that can run scripts,</li> <li>Python 3.x</li> </ul> <p>Naming</p> <p>From now on, it will be refered to as Directory.</p> <p>Before going further, please create a directory for the web interface like <code>/var/www/html/monitoring</code>.  its path will be needend through this process. </p>"},{"location":"documentation/#system-data-collection","title":"System data collection","text":"<p>Data collection is done by <code>script.sh</code>.  Make it executeable and give it to a user who can write to the Directory and memorize the scripts path.</p> <p>Open the file and customize the Directory to your liking.</p> script.sh<pre><code>file=\"/var/www/html/monitoring/measures\"\n</code></pre> <p>Next, open your crontab (<code>etc/crontab</code>) and add the script to be executed every minute.</p> Crontab example<pre><code>* * * * * user /user/script.sh\n</code></pre> <p>Check</p> <p>After a minute, the measures file should appear in the Directory.</p>"},{"location":"documentation/#python-script","title":"Python script","text":"<p>Copy <code>index.py</code> and <code>style.css</code> into the Directory and make <code>index.py</code> executeable.</p>"},{"location":"documentation/#customization","title":"Customization","text":"<p>Three variables have been moved to the top of the file to be easily customizable:</p> Database path<pre><code>### Customisation ###\n\n# File containing the measures\ndatabase = \"measures\"\n</code></pre> Target of the 'home' button<pre><code># URL of the \"home\" button\nurl = \"http://localhost\"\n</code></pre> Displayed version<pre><code># Displayed program version\nversion = \"Version 1.1\"\n</code></pre>"},{"location":"documentation/#apache-configuration","title":"Apache configuration","text":"<p>You need to make several changes to Apaches configuration:</p> <ul> <li>Allow script execution</li> <li>Add a Python handler</li> <li>Load the CGI module</li> <li>Make <code>index.py</code> the index page</li> </ul> <p>Open Apaches configuration file and create a <code>&lt;Directory&gt;</code> part for the Directory:</p> /etc/apache2/apache2.conf<pre><code>&lt;Directory /var/www/&gt;\n        Options Indexes FollowSymLinks ExecCGI\n        AddHandler cgi-script .cgi .py\n        LoadModule cgi_module /usr/lib/apache2/modules/mod_cgi.so\n        AllowOverride None\n        Require all granted\n        DirectoryIndex index.py\n&lt;/Directory&gt;\n</code></pre> <p>Reload the server:</p> <pre><code>systemstl reload apache2\n</code></pre> <p>Check</p> <p>The web interface should be availible at http://localhost/Directory.</p>"}]}